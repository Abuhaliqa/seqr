{% extends "staff/table_layout.html" %}

{% block dataTable %}
  <style>
    .title-row {
      padding:10px 5px 10px 5px
    }

    .info-row {
      padding:10px 0px 0px 5px
    }
  </style>

  <br />
  <table>
    <tr>
      <td class="title-row">
        <b>Projects:</b>
      </td>
    </tr>
    <tr>
      <td class="title-row">
        <div style="max-width:1350px; column-count:5">
          {% for project in projects %}
            <div><a href="/staff/discovery_sheet/{{ project.projectGuid }}">{{ project.name }}</a></div>
          {% endfor %}
        </div>
      </td>
    </tr>
    <tr>
      <td class="title-row">
        <b>{{ project.name }}:</b>
      </td>
    </tr>
    <tr>
      <td class="info-row">
        <a href="/project/{{ project.deprecatedProjectId }}">Original Project page</a><br />
        <a href="/project/{{ project.projectGuid }}/project_page">Project page</a><br />
        <a href="/project/{{ project.projectGuid }}/case_review_page">Case Review page</a><br />
      </td>
    </tr>

    {% for error in errors %}
      <tr><td class="info-row" style="color:orangered">Error: {{ error }}</td></tr>
    {% endfor %}

    <tr>
      <td>
        <br />
        {% if rows %}
        <table id="dataTable" class="display">
          <thead>
          <tr>
            <th class="data-table-header"> </th>
            <th class="data-table-header" style="min-width:5em">T0</th>
            <th class="data-table-header">Months since T0</th>
            <th class="data-table-header">Family ID</th>
            <th class="data-table-header">Phenotype</th>
            <th class="data-table-header">Sequencing Approach</th>
            <th class="data-table-header">Sample Source</th>
            <th class="data-table-header">Analysis Status</th>
            <th class="data-table-header">Expected Inheritance Model</th>
            <th class="data-table-header">Actual Inheritance Model</th>
            <th class="data-table-header"># Kindreds</th>
            <th class="data-table-header">Gene Name</th>
            <th class="data-table-header">Novel Mendelian Gene</th>
            <th class="data-table-header">Gene Count</th>
            <th class="data-table-header">Phenotype Class</th>
            <th class="data-table-header">Solved</th>
            <th class="data-table-header">Genome-wide Linkage</th>
            <th class="data-table-header">Bonferroni corrected p-value, NA, NS, KPG</th>
            <th class="data-table-header"># Kindreds w/ Overlapping SV & Similar Phenotype</th>
            <th class="data-table-header"># Unrelated Kindreds w/ Causal Variants in Gene</th>
            <th class="data-table-header">Biochemical Function</th>
            <th class="data-table-header">Protein Interaction</th>
            <th class="data-table-header">Expression</th>
            <th class="data-table-header">Patient cells</th>
            <th class="data-table-header">Non-patient cells</th>
            <th class="data-table-header">Animal model</th>
            <th class="data-table-header">Non-human Cell culture model</th>
            <th class="data-table-header">Rescue</th>
            <th class="data-table-header">OMIM # (initial)</th>
            <th class="data-table-header">OMIM # (post-discovery)</th>
            <th class="data-table-header">Submitted to MME (deadline 7 months post T0)</th>
            <th class="data-table-header">Posted publicly (deadline 12 months posted T0)</th>
            <th class="data-table-header">PubMed IDs for gene</th>
            <th class="data-table-header">Collaborator</th>
            <th class="data-table-header">Analysis Summary</th>
            <th class="data-table-header">Abnormality of Connective Tissue</th>
            <th class="data-table-header">Abnormality of the Voice</th>
            <th class="data-table-header">Abnormality of the Nervous System</th>
            <th class="data-table-header">Abnormality of the Breast</th>
            <th class="data-table-header">Abnormality of the Eye</th>
            <th class="data-table-header">Abnormality of Prenatal Development or Birth</th>
            <th class="data-table-header">Neoplasm</th>
            <th class="data-table-header">Abnormality of the Endocrine System</th>
            <th class="data-table-header">Abnormality of Head or Neck</th>
            <th class="data-table-header">Abnormality of the Immune System</th>
            <th class="data-table-header">Growth Abnormality</th>
            <th class="data-table-header">Abnormality of Limbs</th>
            <th class="data-table-header">Abnormality of the Thoracic Cavity</th>
            <th class="data-table-header">Abnormality of Blood and Blood-forming Tissues</th>
            <th class="data-table-header">Abnormality of the Musculature</th>
            <th class="data-table-header">Abnormality of the Cardiovascular System</th>
            <th class="data-table-header">Abnormality of the Abdomen</th>
            <th class="data-table-header">Abnormality of the Skeletal System</th>
            <th class="data-table-header">Abnormality of the Respiratory System</th>
            <th class="data-table-header">Abnormality of the Ear</th>
            <th class="data-table-header">Abnormality of Metabolism / Homeostasis</th>
            <th class="data-table-header">Abnormality of the Genitourinary System</th>
            <th class="data-table-header">Abnormality of the Integument</th>
          </tr>
          </thead>
          {% for row in rows %}
            <tr>
              <td class="data-table-row"> </td>
              <td class="data-table-row">{{ row.t0|date:'Y-m-d' }}</td>
              <td class="data-table-row">{{ row.months_since_t0 }}</td>
              <td class="data-table-row"><a href="/project/{{ project.deprecatedProjectId }}/family/{{ row.family_id }}">{{ row.family_id }}</a></td>
              <td class="data-table-row">{{ row.phenotype }}</td>
              <td class="data-table-row">{{ row.sequencing_approach }}</td>
              <td class="data-table-row">{{ row.sample_source }}</td>
              <td class="data-table-row">{{ row.analysis_status }}</td>
              <td class="data-table-row">{{ row.expected_inheritance_model }}</td>
              <td class="data-table-row">{{ row.actual_inheritance_model }}</td>
              <td class="data-table-row"><!-- # CMG Kindreds --></td>
              <td class="data-table-row">{{ row.gene_name }}</td>
              <td class="data-table-row">{{ row.novel_mendelian_gene }}</td>
              <td class="data-table-row">{{ row.gene_count }}</td>
              <td class="data-table-row">{{ row.phenotype_class }}</td>
              <td class="data-table-row">{{ row.solved }}</td>
              <td class="data-table-row"><!-- genome wide linkage --></td>
              <td class="data-table-row"><!-- p-value --></td>
              <td class="data-table-row"><!-- # Kindreds w/ Overlapping SV & Similar Phenotype --></td>
              <td class="data-table-row"><!-- # Unrelated Kindreds w/ Causal Variants in Gene --></td>
              <td class="data-table-row"><!-- Biochemical Function --></td>
              <td class="data-table-row"><!-- Protein Interaction --></td>
              <td class="data-table-row"><!-- Expression --></td>
              <td class="data-table-row"><!-- Patient cells --></td>
              <td class="data-table-row"><!-- Non-patient cells --></td>
              <td class="data-table-row"><!-- Animal model --></td>
              <td class="data-table-row"><!-- Non-human Cell culture model --></td>
              <td class="data-table-row"><!-- Rescue --></td>
              <td class="data-table-row">{{ row.omim_number_initial }}</td>
              <td class="data-table-row">{{ row.omim_number_post_discovery }}</td>
              <td class="data-table-row">{{ row.submitted_to_mme }}</td>
              <td class="data-table-row">{{ row.posted_publicly }}</td>
              <td class="data-table-row">{{ row.pubmed_ids }}</td>
              <td class="data-table-row">{{ row.collaborator }}</td>
              <td class="data-table-row">{{ row.analysis_summary }}</td>
              <td class="data-table-row">{% if row.connective_tissue %} Yes {% else %} {% endif %}</td>
              <td class="data-table-row">{% if row.voice %} Yes {% else %} {% endif %}</td>
              <td class="data-table-row">{% if row.nervous_system %} Yes {% else %} {% endif %}</td>
              <td class="data-table-row">{% if row.breast %} Yes {% else %} {% endif %}</td>
              <td class="data-table-row">{% if row.eye_defects %} Yes {% else %} {% endif %}</td>
              <td class="data-table-row">{% if row.prenatal_development_or_birth %} Yes {% else %} {% endif %}</td>
              <td class="data-table-row">{% if row.neoplasm %} Yes {% else %} {% endif %}</td>
              <td class="data-table-row">{% if row.endocrine_system %} Yes {% else %} {% endif %}</td>
              <td class="data-table-row">{% if row.head_or_neck %} Yes {% else %} {% endif %}</td>
              <td class="data-table-row">{% if row.immune_system %} Yes {% else %} {% endif %}</td>
              <td class="data-table-row">{% if row.growth %} Yes {% else %} {% endif %}</td>
              <td class="data-table-row">{% if row.limbs %} Yes {% else %} {% endif %}</td>
              <td class="data-table-row">{% if row.thoracic_cavity %} Yes {% else %} {% endif %}</td>
              <td class="data-table-row">{% if row.blood %} Yes {% else %} {% endif %}</td>
              <td class="data-table-row">{% if row.musculature%} Yes {% else %} {% endif %}</td>
              <td class="data-table-row">{% if row.cardiovascular_system %} Yes {% else %} {% endif %}</td>
              <td class="data-table-row">{% if row.abdomen %} Yes {% else %} {% endif %}</td>
              <td class="data-table-row">{% if row.skeletal_system %} Yes {% else %} {% endif %}</td>
              <td class="data-table-row">{% if row.respiratory %} Yes {% else %} {% endif %}</td>
              <td class="data-table-row">{% if row.ear_defects %} Yes {% else %} {% endif %}</td>
              <td class="data-table-row">{% if row.metabolism_homeostasis %} Yes {% else %} {% endif %}</td>
              <td class="data-table-row">{% if row.genitourinary_system %} Yes {% else %} {% endif %}</td>
              <td class="data-table-row">{% if row.integument %} Yes {% else %} {% endif %}</td>
            </tr>
          {% endfor %}

        </table>
        {% endif %}
      </td>
    </tr>
  </table>
{% endblock %}