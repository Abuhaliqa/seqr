{% extends 'analysispage.html' %}

{% block title %}Project Settings{% endblock %}

{% block links %}
    Project: <a href="{% url 'project_home' project.project_id %}">{{ project }}</a>
{% endblock %}

{% block desc %}
    <p>
        Settings for this projects are listed below. 
    </p>
{% endblock %}

{% block innercontent %}
    <div class="container">
        <h4 class="section-header">Basic Info</h4>
        <dl>
            <dt>Name</dt>
            <dd>{% if project.project_name %}{{ project.project_name }}{% else %}<em>No name</em>{% endif %}</dd>
            <dt>Description</dt>
            <dd>{% if project.description %}{{ project.description }}{% else %}<em>No description</em>{% endif %}</dd>
        </dl>
        {% if is_manager %}
            <a href="{% url 'edit_basic_info' project.project_id %}" class="btn btn-primary">Edit Basic Info</a>
        {% endif %}

        <h4 class="section-header">Gene Lists</h4>
        <p>
            Here you can add or remove existing gene lists from this project. To create or edit gene lists, please use <a href="/gene-lists/">this page</a>.
	    Once gene lists are added to a project, variants in these gene lists will be highlighted in variant search results. Also, searches can be done on just the genes in one of these lists.
        </p>
        <ul class="settings-list">
        {% for gene_list in project.get_gene_lists %}
            <li>
                <strong>{{ gene_list.name }}</strong>: {{ gene_list.description }}<br>
                <em>{{ gene_list.num_genes }} genes</em> | <a href="{% url 'project_gene_list' project.project_id gene_list.slug %}">View more</a>
                {% if is_manager %}
                    <a href="{% url 'project_remove_gene_list' project.project_id gene_list.slug %}" class="label label-danger">Remove</a>
                {% endif %}
            </li>
        {% empty %}
            <strong>No gene lists</strong>
        {% endfor %}
        </ul>
        {% if is_manager %}
            <a href="{% url 'add_gene_list' project.project_id %}" class="btn btn-primary">Add New Gene List</a>
            <a href="{% url 'remove_gene_list' project.project_id %}" class="btn btn-primary">Remove Gene List</a>
        {% endif %}
    </div>
{% endblock %}
