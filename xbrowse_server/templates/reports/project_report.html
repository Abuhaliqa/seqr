{% extends 'analysispage.html' %}
{% load x_extras %}
{% load static from staticfiles %}


{% block title %}<a href="{% url 'families' project.project_id %}">Project Report</a> &#187;
    <span>{{ family }}</span>{% endblock %}

{% block links %}
    Project: <a href="{% url 'project_home' project.project_id %}">{{ project }}</a>
{% endblock %}
{% block innercontent %}
    {% include 'javascript.html' %}
    {% include 'family_warnings.html' %}

  <div class="container">
	<div class="row">
  		<div class="col-sm-6">
  			<h4 class="section-header">Status distribution</h4>
 
 <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <script type="text/javascript">
    google.charts.load("current", {packages:['corechart']});
    google.charts.setOnLoadCallback(drawChart);
    function drawChart() {
      var data = google.visualization.arrayToDataTable([
        ["Element", "Density", { role: "style" } ],
        ["Copper", 8.94, "#b87333"],
        ["Silver", 10.49, "silver"],
        ["Gold", 19.30, "gold"],
        ["Platinum", 21.45, "color: #e5e4e2"]
      ]);

      var view = new google.visualization.DataView(data);
      view.setColumns([0, 1,
                       { calc: "stringify",
                         sourceColumn: 1,
                         type: "string",
                         role: "annotation" },
                       2]);

      var options = {
        width: 600,
        height: 300,
        bar: {groupWidth: "95%"},
        legend: { position: "none" },
      };
      var chart = new google.visualization.ColumnChart(document.getElementById("columnchart_values"));
      chart.draw(view, options);
  }
  </script>
<div id="columnchart_values" style="width: 900px; height: 300px;"></div>
  			
   		</div>
  		<div class="col-sm-6">
  			<h4 class="section-header">Entered phenotype distribution</h4>
  			
  	<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      //google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart2);
      function drawChart2() {
        var data = google.visualization.arrayToDataTable([
          ['Age', 'Weight'],
          [ 8,      12],
          [ 4,      5.5],
          [ 11,     14],
          [ 4,      5],
          [ 3,      3.5],
          [ 6.5,    7]
        ]);

        var options = {
          hAxis: {title: 'HPO Term', minValue: 0, maxValue: 15},
          vAxis: {title: 'Number of individuals', minValue: 0, maxValue: 15},
          width: 600,
          height: 300,
          legend: 'none'
        };

        var chart = new google.visualization.ScatterChart(document.getElementById('chart_div'));

        chart.draw(data, options);
      }
    </script>
    <div id="chart_div" style="width: 900px; height: 300px;"></div>

  			
  			
  		</div>
  	</div>
  	
  	<div class="row">
  		<div class="col-sm-12">
  			<h4 class="section-header">Discovered variants</h4>
        	<table id="familyVariantSummary" class="table table-hover">
            		<thead>
                	<tr>
                		<td><p>Family ID<p></td>
                		<td><p>Status<p></td>
                		<td><p>Chromosome<p></td>
                		<td><p>Position</p></td>
                		<td><p>Reference</p></td>
                		<td><p>Alternate</p></td>
                		<td><p>ExAC popmax</p></td>
                		<td><p>Genotype</p></td>
                	</tr>
                	</thead>
                	<tbody>
                	    <td><p>test<p></td>
                		<td><p>test<p></td>
                		<td><p>test<p></td>
                		<td><p>test</p></td>
                		<td><p>test</p></td>
                		<td><p>test</p></td>
                		<td><p>test</p></td>
                		<td><p>test</p></td>
                		
                	</tbody>
            </table>
        </div>
  	</div>
  </div>

</div>
{% endblock %}

<!-- data table imports -->
<script src="https://cdn.datatables.net/1.10.10/js/jquery.dataTables.min.js"></script>
<link rel="stylesheet" href="https://cdn.datatables.net/1.10.10/css/jquery.dataTables.min.css"/>
<script>
	$('#familyVariantSummary').DataTable();
</script>
